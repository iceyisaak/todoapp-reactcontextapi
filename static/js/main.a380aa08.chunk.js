(this["webpackJsonptodoapp-reactcontextapi"]=this["webpackJsonptodoapp-reactcontextapi"]||[]).push([[0],{12:function(t,e,n){t.exports={TaskList:"TaskList_TaskList__1PUZ7","no-task":"TaskList_no-task__3DlMB"}},22:function(t,e,n){},23:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),s=n(14),r=n.n(s),o=n(13),i=n(15),u=n(2),l=n.n(u),d=n(6),j=n(5),b=n(0),f=Object(a.createContext)(),m=function(t){var e=t.children,n=Object(a.useState)([]),c=Object(j.a)(n,2),s=c[0],r=c[1],u=Object(a.useState)(!1),m=Object(j.a)(u,2),p=m[0],k=m[1],h=Object(a.useState)({task:{},edit:!1}),x=Object(j.a)(h,2),O=x[0],_=x[1];Object(a.useEffect)((function(){T()}),[]);var T=function(){var t=Object(d.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.next=3,fetch("/tasks");case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,r(n),k(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=Object(d.a)(l.a.mark((function t(e){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,r([].concat(Object(i.a)(s),[a]));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(d.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Delete this task?")){t.next=5;break}return t.next=4,fetch("/tasks/".concat(e),{method:"DELETE"});case 4:r(s.filter((function(t){return t.id!==e})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Delete All Tasks?")){t.next=5;break}return t.next=4,fetch("/tasks",{method:"DELETE"});case 4:r([]);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(d.a)(l.a.mark((function t(e,n){var a,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/tasks/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,i=s.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),c):t})),r(i),_({task:{},edit:!1});case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(b.jsx)(f.Provider,{value:{addTask:v,tasks:s,deleteTask:w,editTask:y,taskToEdit:O,selectTaskToEdit:function(t){console.log("TodoContext.js",t),_({task:t,edit:!0})},deleteAllTasks:N,isLoading:p},children:e})},p=function(){return Object(a.useContext)(f)},k=n(3),h=n(8),x=n.n(h),O=function(){var t=Object(a.useState)(""),e=Object(j.a)(t,2),n=e[0],c=e[1],s=p(),r=s.addTask,o=s.editTask,i=s.taskToEdit;return Object(a.useEffect)((function(){i.edit?c(i.task.title):c("")}),[i]),Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e={title:n};i.edit?o(i.task.id,e):(r(e),c(""))},className:"".concat(x.a.form),children:[Object(b.jsx)("input",{type:"text",onChange:function(t){c(t.target.value)},placeholder:"e.g. Shopping",value:n,required:!0,className:"".concat(x.a.input),maxLength:25}),Object(b.jsx)("button",{className:"".concat(x.a.btn),children:Object(b.jsx)(k.a,{className:"".concat(x.a["btn-text"]," ","pointer")})})]})},_=n(9),T=n.n(_),v=function(t){var e=t.task,n=p(),a=n.deleteTask,c=n.selectTaskToEdit;return Object(b.jsxs)("li",{className:"".concat(T.a.TaskItem),children:[Object(b.jsx)("span",{className:"".concat(T.a["task-name"]),children:e.title}),Object(b.jsx)(k.d,{onClick:function(){c(e)},className:"pointer".concat(" ",T.a["item-btn"])}),Object(b.jsx)(k.c,{onClick:function(){a(e.id)},className:"pointer".concat(" ",T.a["item-btn"])})]})},w=n(12),N=n.n(w),y=function(){var t=p(),e=t.tasks,n=t.isLoading;return n?Object(b.jsx)("p",{children:"Loading..."}):Object(b.jsxs)("div",{className:"".concat(N.a.TaskList),children:[!n&&0===e.length&&Object(b.jsx)("p",{className:"".concat(N.a["no-task"]),children:"+++ Task List is Empty +++"}),Object(b.jsx)("ul",{children:e.map((function(t){return Object(b.jsx)(v,{task:t},t.id)}))})]})},E=n(4),g=n.n(E),L=function(){var t=p().deleteAllTasks;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"".concat(g.a.container),children:Object(b.jsxs)("main",{className:"".concat(g.a.main),children:[Object(b.jsx)(k.b,{onClick:t,className:"pointer".concat(" ",g.a["btn-delall"])}),Object(b.jsxs)("header",{className:"".concat(g.a.header),children:[Object(b.jsx)("h1",{className:"".concat(g.a.h1),children:"TodoApp"}),Object(b.jsx)("h4",{className:"".concat(g.a.h4),children:"React Context API"})]}),Object(b.jsx)(O,{}),Object(b.jsx)(y,{})]})})})};n(22);r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(m,{children:Object(b.jsx)(L,{})})}),document.getElementById("root"))},4:function(t,e,n){t.exports={h1:"Home_h1__1ZKCY",h4:"Home_h4__Z_nc1",header:"Home_header__TduQC",main:"Home_main__13HyB",container:"Home_container__3HKK4","btn-delall":"Home_btn-delall__2jHf0","btn-container":"Home_btn-container__ks1Iw"}},8:function(t,e,n){t.exports={form:"TaskForm_form__tU7LQ",input:"TaskForm_input__2FMyz",btn:"TaskForm_btn__28cx9","btn-text":"TaskForm_btn-text__DGnuN"}},9:function(t,e,n){t.exports={TaskItem:"TaskItem_TaskItem__35owO","task-name":"TaskItem_task-name__1ERD9","item-btn":"TaskItem_item-btn__1wd6B"}}},[[23,1,2]]]);
//# sourceMappingURL=main.a380aa08.chunk.js.map